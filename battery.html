<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>Battery Send</title>
</head>
<body style="background:black;color:white;font-size:30px;">

Battery Send...

<script type="module">

import { initializeApp }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";

import {
getDatabase,
ref,
set
}
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";


// firebase 설정

const firebaseConfig = {

apiKey: "AIzaSyA5hMmN9QFgdFtaA5gicS_pj-blu_jJdvE",

authDomain: "rider-bf48b.firebaseapp.com",

databaseURL: "https://rider-bf48b-default-rtdb.firebaseio.com",

projectId: "rider-bf48b",

storageBucket: "rider-bf48b.firebasestorage.app",

messagingSenderId: "1026929653322",

appId: "1:1026929653322:web:b90541cccba5b4186198b3"

};


const app =
initializeApp(firebaseConfig);

const db =
getDatabase(app);




// 배터리 전송

navigator.getBattery()
.then(battery=>{


function send(){


set(
ref(db,"battery"),
{

level:
Math.floor(
battery.level*100
),

charging:
battery.charging,

timestamp:
Date.now()

});


console.log(
"Battery send:",
battery.level*100
);


}


send();

setInterval(send,10000);


});


</script>

</body>
</html>

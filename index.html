<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">

<style>

body{

margin:0;
background:transparent;
color:white;

}


/* 위치 */

#batteryBox{

position:fixed;

bottom:10px;

right:20px;

display:flex;

align-items:center;

gap:6px;

background:rgba(0,0,0,0.6);

padding:6px 10px;

border-radius:10px;

}


/* 배터리 */

#batteryIcon{

width:28px;
height:14px;

border:2px solid white;

border-radius:3px;

position:relative;

}


/* 채움 */

#batteryFill{

height:100%;

width:50%;

background:#00ff00;

}


/* 머리 */

#batteryCap{

position:absolute;

right:-5px;

top:3px;

width:3px;

height:6px;

background:white;

}


/* 번개 */

#batteryBolt{

position:absolute;

width:100%;
height:100%;

display:none;

align-items:center;
justify-content:center;

font-size:10px;

}


</style>

</head>
<body>


<div id="batteryBox">


<div id="batteryIcon">

<div id="batteryFill"></div>

<div id="batteryBolt">⚡</div>

<div id="batteryCap"></div>

</div>


<div id="batteryText">

--%

</div>


</div>



<script type="module">


import { initializeApp }
from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";

import {

getDatabase,
ref,
onValue

}

from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";




const firebaseConfig={

apiKey:"AIzaSyA5hMmN9QFgdFtaA5gicS_pj-blu_jJdvE",

authDomain:"rider-bf48b.firebaseapp.com",

databaseURL:"https://rider-bf48b-default-rtdb.firebaseio.com",

projectId:"rider-bf48b",

storageBucket:"rider-bf48b.firebasestorage.app",

messagingSenderId:"1026929653322",

appId:"1:1026929653322:web:b90541cccba5b4186198b3"

};



const app=
initializeApp(firebaseConfig);

const db=
getDatabase(app);




onValue(
ref(db,"battery"),
snap=>{


if(!snap.exists()) return;


const data=snap.val();


updateBattery(
data.level,
data.charging
);


});





function updateBattery(level,charging){

const fill=
document.getElementById("batteryFill");

const text=
document.getElementById("batteryText");

const bolt=
document.getElementById("batteryBolt");



fill.style.width=
level+"%";


text.innerText=
level+"%";



bolt.style.display=
charging?"flex":"none";



// 색상

let color;


if(level<=10) color="#ff0000";

else if(level<=20) color="#ff4000";

else if(level<=30) color="#ff8000";

else if(level<=40) color="#ffbf00";

else if(level<=50) color="#ffff00";

else if(level<=60) color="#bfff00";

else if(level<=70) color="#80ff00";

else if(level<=80) color="#40ff00";

else if(level<=90) color="#00ff00";

else color="#00ff40";


fill.style.background=color;


}


</script>

</body>
</html>
